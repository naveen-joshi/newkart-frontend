<div class="row">
  <div class="col">
    <div class="alert alert-danger d-flex align-items-center alert-dismissible fade show" *ngIf="isError">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:">
        <use xlink:href="#exclamation-triangle-fill" />
      </svg>
      {{ errorMessage }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-success d-flex align-items-center alert-dismissible fade show" *ngIf="isSuccess">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
        <use xlink:href="#info-fill" />
      </svg>
      {{ successMesage }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div *ngIf="isLoading">
      <app-loader></app-loader>
    </div>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()" *ngIf="!isLoading">
      <div>
        <p class="h3 text-center">Welcome Back</p>
      </div>
      <div class="form-group mt-2">
        <label for="email">Email</label>
        <input type="text" id="email" class="form-control" formControlName="email"
          [ngClass]="{ 'is-invalid': (f['email'].dirty || f['email'].touched) && f['email'].errors }">
        <div *ngIf="(f['email'].dirty || f['email'].touched) && f['email'].errors" class="invalid-feedback">
          <div *ngIf="f['email'].errors['required']">Email is required</div>
          <div *ngIf="f['email'].errors['email']">Email is invalid</div>
        </div>
      </div>
      <div class="form-group mt-2">
        <label for="password">Password</label>
        <input type="password" id="password" class="form-control" formControlName="password"
          [ngClass]="{ 'is-invalid': (f['password'].dirty || f['password'].touched) && f['password'].errors }">
        <div *ngIf="(f['password'].dirty || f['password'].touched) && f['password'].errors" class="invalid-feedback">
          <div *ngIf="f['password'].errors['required']">Password is required</div>
          <div *ngIf="f['password'].errors['minlength']">
            Password must be at least 8 characters
          </div>
        </div>
      </div>
      <div class="form-check form-switch mt-2">
        <input class="form-check-input" type="checkbox" role="switch" id="rememberme" formControlName="rememberme"
          checked>
        <label class="form-check-label" for="rememberme">Remember Me</label>
      </div>
      <div class="d-grid gap-2 mt-3">
        <button class="btn btn-primary" role="button" [disabled]="!loginForm.valid">Login</button>
        <button class="btn btn-warning" role="button" routerLink="/auth/register">New Member? Register</button>
      </div>
    </form>
  </div>
</div>
